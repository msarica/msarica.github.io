"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(M,g,i)=>{i.r(g),i.d(g,{LoginPageModule:()=>G});var u=i(9808),d=i(3075),a=i(7590),l=i(4005),c=i(655),t=i(2096),m=i(3629),f=i(7788),v=i(4435),L=i(4725),p=i(2780),h=i(5970);function P(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-button",4),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.startGame())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Start")," "))}function y(n,s){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"ion-button",4),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.continue())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-button",4),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.restart())}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"Continue")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"RestartThisGame")," "))}function x(n,s){1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"GameNotFound")," "))}const S=[{path:"",component:(()=>{class n{constructor(o,e,r,Z,T,Y){this.gameService=o,this.utilService=e,this.router=r,this.info=Z,this.locationService=T,this.loading=Y,this.showStart=!1,this.hasProgress=!1}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.hasProgress=yield this.gameService.hasProgress(),(0,t.X6Q)()&&(this.showStart=!0)})}userLocationAccess(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.gameService.showLoading(),yield this.locationService.getLocation()}catch(o){throw console.log(o),new Error("You need to give location permission")}})}startGame(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.gameService.showLoading(),yield this.userLocationAccess(),this.gameService.setGame(v.H)}catch(o){this.info.alert(o.message)}finally{yield this.gameService.stopLoading()}})}continue(o){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.userLocationAccess(),this.gameService.loadFromSaved(o)}catch(e){this.info.alert(e.message)}finally{this.gameService.stopLoading()}})}restart(){return(0,c.mG)(this,void 0,void 0,function*(){!(yield this.info.confirm("New Game","Are you sure?"))||this.continue(!0)})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(m.h),t.Y36(f.F),t.Y36(l.F0),t.Y36(L.C),t.Y36(p.a),t.Y36(a.HT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:9,vars:6,consts:[[1,"ion-text-center"],[1,"ion-padding"],["expand","block",3,"click",4,"ngIf"],[4,"ngIf"],["expand","block",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.ALo(4,"translate"),t.qZA()()(),t.TgZ(5,"ion-content",1),t.YNc(6,P,3,3,"ion-button",2),t.YNc(7,y,7,6,"ng-container",3),t.YNc(8,x,3,3,"ng-container",3),t.qZA()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"Start")),t.xp6(3),t.Q6J("ngIf",e.showStart),t.xp6(1),t.Q6J("ngIf",e.hasProgress),t.xp6(1),t.Q6J("ngIf",!e.hasProgress))},dependencies:[u.O5,a.YG,a.W2,a.Gu,a.wd,a.sr,h.X$]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(S),l.Bz]}),n})(),G=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,d.u5,a.Pc,A,h.aw]}),n})()}}]);