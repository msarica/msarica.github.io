"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3909],{3909:(f,c,a)=>{a.r(c),a.d(c,{DemoPage:()=>D});var m=a(5861),_=a(6814),l=a(6223),t=a(7027),u=a(662),g=a(3911),e=a(2029),d=a(6546);const p=function(o,r){return{distance:10,isClose:!0,pointId:o,point:r}};function h(o,r){if(1&o&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-card-content"),e._UZ(5,"app-game-point",9),e.qZA()()),2&o){const s=r.$implicit;e.xp6(3),e.hij("",s.title," "),e.xp6(2),e.Q6J("selectedPoint",e.WLB(2,p,s.id,s))}}function P(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4),e.qZA()(),e.TgZ(5,"ion-card-content"),e._uU(6),e.qZA()(),e.YNc(7,h,6,5,"ion-card",8),e.BQk()),2&o){const s=e.oxw();e.xp6(4),e.Oqu(s.game.name),e.xp6(2),e.hij(" ",s.game.description," "),e.xp6(1),e.Q6J("ngForOf",s.points)}}let D=(()=>{var o;class r{constructor(n,i){this.gameService=n,this.menuCtrl=i,this.game=null,this.gameName="",this.points=[]}ngOnInit(){this.gameService.gameLoaded$.subscribe(n=>{console.log("loaded ",n),this.game=n,this.startGame()}),this.gameService.pointsSnapshot$.subscribe(n=>{console.log(n),this.points=[],this.game.points.forEach(i=>{n[i.id]&&n[i.id].enabled&&this.points.push(i)})})}ionViewDidEnter(){var n=this;return(0,m.Z)(function*(){n.closeMenu()})()}closeMenu(){var n=this;return(0,m.Z)(function*(){const i="demo-menu";yield n.menuCtrl.enable(!0,i),yield n.menuCtrl.close(i)})()}startGame(){this.game&&(this.gameName=this.game.name)}}return(o=r).\u0275fac=function(n){return new(n||o)(e.Y36(d.h),e.Y36(t._q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-demo"]],standalone:!0,features:[e.jDz],decls:18,vars:5,consts:[["menuId","demo-menu","contentId","demo-menu"],[1,"ion-padding"],["id","demo-menu",3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selectedPoint"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),e._uU(4,"Menu"),e.qZA()()(),e._UZ(5,"ion-content",1),e.qZA(),e.TgZ(6,"ion-header",2)(7,"ion-toolbar")(8,"ion-buttons",3),e._UZ(9,"ion-menu-button"),e.qZA(),e.TgZ(10,"ion-title"),e._uU(11),e.qZA()()(),e.TgZ(12,"ion-content",4)(13,"ion-header",5)(14,"ion-toolbar")(15,"ion-title",6),e._uU(16),e.qZA()()(),e.YNc(17,P,8,3,"ng-container",7),e.qZA()),2&n&&(e.xp6(6),e.Q6J("translucent",!0),e.xp6(5),e.Oqu(i.gameName),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(4),e.Oqu(i.gameName),e.xp6(1),e.Q6J("ngIf",i.game))},dependencies:[t.Pc,t.Sm,t.PM,t.FN,t.Zi,t.Dq,t.W2,t.Gu,t.z0,t.fG,t.wd,t.sr,_.ez,_.sg,_.O5,l.u5,g.aw,u.v]}),r})()}}]);