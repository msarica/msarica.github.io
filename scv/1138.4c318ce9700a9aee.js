"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1138],{1138:(b,g,n)=>{n.r(g),n.d(g,{LoginPageModule:()=>T});var u=n(9808),m=n(4182),a=n(7590),l=n(5470),c=n(655),e=n(2096),d=n(8328),h=n(7788);const f={name:"Sample Game",description:"Hi, welcome to my experiment! :)",location:[39.25141,-76.831531],zoom:18,points:[{name:"start",title:"home",visible:!0,location:[39.25141,-76.831531],body:{type:"shortanswer",title:"Who?",text:"I watch cars as they pass by with my twin. What am I?",possibleAnswers:["turtle","a turtle"],messageIfIncorrect:"hint: look around. I am made out of concerete",afterExplored:"you found me!",enables:["point2"]}},{name:"point2",title:"corner",visible:!1,location:[39.252706,-76.831282],body:{type:"multiplechoice",title:"everyday",text:"do you like pumpkin?",choices:["yes","no"],possibleAnswers:["yes"],afterExplored:"awesome!",enables:["point3"]}},{name:"point3",title:"place",visible:!1,location:[39.251625,-76.831885],body:{type:"shortanswer",title:"last question",text:"what is my name?",possibleAnswers:["mehmet"],messageIfCorrect:"You completed the game",afterExplored:"You completed the game"}}]};var p=n(4725),v=n(2780);function y(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"ion-button",4),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.startGame())}),e._uU(1," START "),e.qZA()}}function L(t,s){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"ion-button",4),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.continue())}),e._uU(2," CONTINUE "),e.qZA(),e.TgZ(3,"ion-button",4),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.restart())}),e._uU(4," RESTART THIS GAME "),e.qZA(),e.BQk()}}function P(t,s){1&t&&(e.ynx(0),e._uU(1," NO GAME FOUND "),e.BQk())}const S=[{path:"",component:(()=>{class t{constructor(o,i,r,A,w,G){this.gameService=o,this.utilService=i,this.router=r,this.info=A,this.locationService=w,this.loading=G,this.showStart=!1,this.hasProgress=!1}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.hasProgress=yield this.gameService.hasProgress(),(0,e.X6Q)()&&(this.showStart=!0)})}userLocationAccess(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.gameService.showLoading(),yield this.locationService.getLocation()}catch(o){throw console.log(o),new Error("You need to give location permission")}})}startGame(){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.gameService.showLoading(),yield this.userLocationAccess(),this.gameService.setGame(f)}catch(o){this.info.alert(o.message)}finally{yield this.gameService.stopLoading()}})}continue(o){return(0,c.mG)(this,void 0,void 0,function*(){try{yield this.userLocationAccess(),this.gameService.loadFromSaved(o)}catch(i){this.info.alert(i.message)}finally{this.gameService.stopLoading()}})}restart(){return(0,c.mG)(this,void 0,void 0,function*(){!(yield this.info.confirm("New Game","Are you sure?"))||this.continue(!0)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.h),e.Y36(h.F),e.Y36(l.F0),e.Y36(p.C),e.Y36(v.a),e.Y36(a.HT))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:8,vars:3,consts:[[1,"ion-text-center"],[1,"ion-padding"],["expand","block",3,"click",4,"ngIf"],[4,"ngIf"],["expand","block",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"START"),e.qZA()()(),e.TgZ(4,"ion-content",1),e.YNc(5,y,2,0,"ion-button",2),e.YNc(6,L,5,0,"ng-container",3),e.YNc(7,P,2,0,"ng-container",3),e.qZA()),2&o&&(e.xp6(5),e.Q6J("ngIf",i.showStart),e.xp6(1),e.Q6J("ngIf",i.hasProgress),e.xp6(1),e.Q6J("ngIf",!i.hasProgress))},dependencies:[u.O5,a.YG,a.W2,a.Gu,a.wd,a.sr]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(S),l.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,m.u5,a.Pc,x]}),t})()}}]);