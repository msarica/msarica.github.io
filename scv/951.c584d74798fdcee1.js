"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[951],{951:(C,g,n)=>{n.r(g),n.d(g,{StoryPageModule:()=>x});var y=n(9808),c=n(3075),r=n(7590),l=n(4005),t=n(2096),h=n(4974),m=n(3629),p=n(7788),f=n(4435),v=n(4725),S=n(9258),d=n(5174);function J(o,a){if(1&o&&(t.TgZ(0,"ion-item"),t._UZ(1,"qrcode",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("qrdata",e.qrData)("width",512)("errorCorrectionLevel","H")}}function M(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-button",2),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.copy())}),t._uU(1," copy "),t.qZA()}}const T=[{path:"",component:(()=>{class o{constructor(e,i,s,u,Z,N){this.gameService=e,this.utils=i,this.info=s,this.activatedRoute=u,this.router=Z,this.gameBuilderService=N,this.storyText=""}ngOnInit(){this.gameBuilderService.storyJson?(this.storyText=JSON.stringify(JSON.parse(this.gameBuilderService.storyJson),null,2),this.generate()):this.storyText=JSON.stringify(f.H,null,2)}getMin(){let e=JSON.stringify(JSON.parse(this.storyText));return e=this.utils.compress(e),e=(0,h.v8)(e),e}validate(e){return e=(0,h.V1)(e),e=this.utils.uncompress(e),JSON.parse(e)}generate(){try{this.qrData=null,this.storyMin=this.getMin(),this.validate(this.storyMin),this.qrData=((0,t.X6Q)()?"https://localhost:8100":"https://msarica.github.io/scv")+"/#/tabs/start?story="+this.storyMin}catch(e){this.info.alert(e.message)}}copy(){navigator.clipboard.writeText(this.qrData),console.log(this.storyMin.length),this.info.alert("copied")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.h),t.Y36(p.F),t.Y36(v.C),t.Y36(l.gz),t.Y36(l.F0),t.Y36(S.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-story"]],decls:16,vars:5,consts:[[1,"ion-text-center"],["placeholder","",3,"autoGrow","ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Create your story"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"ion-item")(6,"ion-textarea",1),t.NdJ("ngModelChange",function(u){return i.storyText=u}),t.qZA()(),t.TgZ(7,"ion-button",2),t.NdJ("click",function(){return i.generate()}),t._uU(8," Generate "),t.qZA(),t.YNc(9,J,2,3,"ion-item",3),t.TgZ(10,"code"),t._uU(11),t.qZA(),t._UZ(12,"br"),t.YNc(13,M,2,0,"ion-button",4),t._UZ(14,"br")(15,"br"),t.qZA()),2&e&&(t.xp6(6),t.Q6J("autoGrow",!0)("ngModel",i.storyText),t.xp6(3),t.Q6J("ngIf",i.qrData),t.xp6(2),t.hij(" ",i.qrData," "),t.xp6(2),t.Q6J("ngIf",i.qrData))},dependencies:[y.O5,c.JJ,c.On,r.YG,r.W2,r.Gu,r.Ie,r.g2,r.wd,r.sr,r.j9,d.V],encapsulation:2}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[y.ez,c.u5,r.Pc,P,d.N]}),o})()}}]);