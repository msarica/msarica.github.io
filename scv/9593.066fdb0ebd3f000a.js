(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9593],{5876:(b,i,s)=>{const o=s(532),e=s(7554),n=s(179),t=s(1036);function a(c,u,m,T,R){const E=[].slice.call(arguments,1),w=E.length,I="function"==typeof E[w-1];if(!I&&!o())throw new Error("Callback required as last argument");if(!I){if(w<1)throw new Error("Too few arguments provided");return 1===w?(m=u,u=T=void 0):2===w&&!u.getContext&&(T=m,m=u,u=void 0),new Promise(function(L,U){try{const S=e.create(m,T);L(c(S,u,T))}catch(S){U(S)}})}if(w<2)throw new Error("Too few arguments provided");2===w?(R=m,m=u,u=T=void 0):3===w&&(u.getContext&&void 0===R?(R=T,T=void 0):(R=T,T=m,m=u,u=void 0));try{const L=e.create(m,T);R(null,c(L,u,T))}catch(L){R(L)}}i.rT=a.bind(null,n.render),i.hz=a.bind(null,n.renderToDataURL),i.toString=a.bind(null,function(c,u,m){return t.render(c,m)})},532:b=>{b.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(b,i,s)=>{const r=s(4860).getSymbolSize;i.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,t=r(e),a=145===t?26:2*Math.ceil((t-13)/(2*n-2)),c=[t-7];for(let u=1;u<n-1;u++)c[u]=c[u-1]-a;return c.push(6),c.reverse()},i.getPositions=function(e){const n=[],t=i.getRowColCoords(e),a=t.length;for(let c=0;c<a;c++)for(let u=0;u<a;u++)0===c&&0===u||0===c&&u===a-1||c===a-1&&0===u||n.push([t[c],t[u]]);return n}},812:(b,i,s)=>{const r=s(6906),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(n){this.mode=r.ALPHANUMERIC,this.data=n}e.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){let a;for(a=0;a+2<=this.data.length;a+=2){let c=45*o.indexOf(this.data[a]);c+=o.indexOf(this.data[a+1]),t.put(c,11)}this.data.length%2&&t.put(o.indexOf(this.data[a]),6)},b.exports=e},3044:b=>{function i(){this.buffer=[],this.length=0}i.prototype={get:function(s){const r=Math.floor(s/8);return 1==(this.buffer[r]>>>7-s%8&1)},put:function(s,r){for(let o=0;o<r;o++)this.putBit(1==(s>>>r-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}},b.exports=i},1973:b=>{function i(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}i.prototype.set=function(s,r,o,e){const n=s*this.size+r;this.data[n]=o,e&&(this.reservedBit[n]=!0)},i.prototype.get=function(s,r){return this.data[s*this.size+r]},i.prototype.xor=function(s,r,o){this.data[s*this.size+r]^=o},i.prototype.isReserved=function(s,r){return this.reservedBit[s*this.size+r]},b.exports=i},1824:(b,i,s)=>{const r=s(8419),o=s(6906);function e(n){this.mode=o.BYTE,this.data=new Uint8Array(r(n))}e.getBitsLength=function(t){return 8*t},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let t=0,a=this.data.length;t<a;t++)n.put(this.data[t],8)},b.exports=e},6194:(b,i,s)=>{const r=s(9020),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(t,a){switch(a){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}},i.getTotalCodewordsCount=function(t,a){switch(a){case r.L:return e[4*(t-1)+0];case r.M:return e[4*(t-1)+1];case r.Q:return e[4*(t-1)+2];case r.H:return e[4*(t-1)+3];default:return}}},9020:(b,i)=>{i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2},i.isValid=function(o){return o&&void 0!==o.bit&&o.bit>=0&&o.bit<4},i.from=function(o,e){if(i.isValid(o))return o;try{return function s(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+r)}}(o)}catch(n){return e}}},9172:(b,i,s)=>{const r=s(4860).getSymbolSize;i.getPositions=function(n){const t=r(n);return[[0,0],[t-7,0],[0,t-7]]}},611:(b,i,s)=>{const r=s(4860),n=r.getBCHDigit(1335);i.getEncodedBits=function(a,c){const u=a.bit<<3|c;let m=u<<10;for(;r.getBCHDigit(m)-n>=0;)m^=1335<<r.getBCHDigit(m)-n;return 21522^(u<<10|m)}},7794:(b,i)=>{const s=new Uint8Array(512),r=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)s[n]=e,r[e]=n,e<<=1,256&e&&(e^=285);for(let n=255;n<512;n++)s[n]=s[n-255]})(),i.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},i.exp=function(e){return s[e]},i.mul=function(e,n){return 0===e||0===n?0:s[r[e]+r[n]]}},8043:(b,i,s)=>{const r=s(6906),o=s(4860);function e(n){this.mode=r.KANJI,this.data=n}e.getBitsLength=function(t){return 13*t},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let a=o.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else{if(!(a>=57408&&a<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");a-=49472}a=192*(a>>>8&255)+(255&a),n.put(a,13)}},b.exports=e},7135:(b,i)=>{i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(o,e,n){switch(o){case i.Patterns.PATTERN000:return(e+n)%2==0;case i.Patterns.PATTERN001:return e%2==0;case i.Patterns.PATTERN010:return n%3==0;case i.Patterns.PATTERN011:return(e+n)%3==0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case i.Patterns.PATTERN101:return e*n%2+e*n%3==0;case i.Patterns.PATTERN110:return(e*n%2+e*n%3)%2==0;case i.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}i.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const n=e.size;let t=0,a=0,c=0,u=null,m=null;for(let T=0;T<n;T++){a=c=0,u=m=null;for(let R=0;R<n;R++){let E=e.get(T,R);E===u?a++:(a>=5&&(t+=a-5+3),u=E,a=1),E=e.get(R,T),E===m?c++:(c>=5&&(t+=c-5+3),m=E,c=1)}a>=5&&(t+=a-5+3),c>=5&&(t+=c-5+3)}return t},i.getPenaltyN2=function(e){const n=e.size;let t=0;for(let a=0;a<n-1;a++)for(let c=0;c<n-1;c++){const u=e.get(a,c)+e.get(a,c+1)+e.get(a+1,c)+e.get(a+1,c+1);(4===u||0===u)&&t++}return 3*t},i.getPenaltyN3=function(e){const n=e.size;let t=0,a=0,c=0;for(let u=0;u<n;u++){a=c=0;for(let m=0;m<n;m++)a=a<<1&2047|e.get(u,m),m>=10&&(1488===a||93===a)&&t++,c=c<<1&2047|e.get(m,u),m>=10&&(1488===c||93===c)&&t++}return 40*t},i.getPenaltyN4=function(e){let n=0;const t=e.data.length;for(let c=0;c<t;c++)n+=e.data[c];return 10*Math.abs(Math.ceil(100*n/t/5)-10)},i.applyMask=function(e,n){const t=n.size;for(let a=0;a<t;a++)for(let c=0;c<t;c++)n.isReserved(c,a)||n.xor(c,a,r(e,c,a))},i.getBestMask=function(e,n){const t=Object.keys(i.Patterns).length;let a=0,c=1/0;for(let u=0;u<t;u++){n(u),i.applyMask(u,e);const m=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(u,e),m<c&&(c=m,a=u)}return a}},6906:(b,i,s)=>{const r=s(2316),o=s(4677);i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(t,a){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?t.ccBits[0]:a<27?t.ccBits[1]:t.ccBits[2]},i.getBestModeForData=function(t){return o.testNumeric(t)?i.NUMERIC:o.testAlphanumeric(t)?i.ALPHANUMERIC:o.testKanji(t)?i.KANJI:i.BYTE},i.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},i.isValid=function(t){return t&&t.bit&&t.ccBits},i.from=function(t,a){if(i.isValid(t))return t;try{return function e(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+n)}}(t)}catch(c){return a}}},6002:(b,i,s)=>{const r=s(6906);function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let t,a,c;for(t=0;t+3<=this.data.length;t+=3)a=this.data.substr(t,3),c=parseInt(a,10),n.put(c,10);const u=this.data.length-t;u>0&&(a=this.data.substr(t),c=parseInt(a,10),n.put(c,3*u+1))},b.exports=o},7793:(b,i,s)=>{const r=s(7794);i.mul=function(e,n){const t=new Uint8Array(e.length+n.length-1);for(let a=0;a<e.length;a++)for(let c=0;c<n.length;c++)t[a+c]^=r.mul(e[a],n[c]);return t},i.mod=function(e,n){let t=new Uint8Array(e);for(;t.length-n.length>=0;){const a=t[0];for(let u=0;u<n.length;u++)t[u]^=r.mul(n[u],a);let c=0;for(;c<t.length&&0===t[c];)c++;t=t.slice(c)}return t},i.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let t=0;t<e;t++)n=i.mul(n,new Uint8Array([1,r.exp(t)]));return n}},7554:(b,i,s)=>{const r=s(4860),o=s(9020),e=s(3044),n=s(1973),t=s(3012),a=s(9172),c=s(7135),u=s(6194),m=s(8098),T=s(6602),R=s(611),E=s(6906),w=s(9465);function N(p,f,y){const l=p.size,g=R.getEncodedBits(f,y);let h,d;for(h=0;h<15;h++)d=1==(g>>h&1),p.set(h<6?h:h<8?h+1:l-15+h,8,d,!0),p.set(8,h<8?l-h-1:h<9?15-h-1+1:15-h-1,d,!0);p.set(l-8,8,1,!0)}function F(p,f,y,l){let g;if(Array.isArray(p))g=w.fromArray(p);else{if("string"!=typeof p)throw new Error("Invalid data");{let D=f;if(!D){const v=w.rawSplit(p);D=T.getBestVersionForData(v,y)}g=w.fromString(p,D||40)}}const h=T.getBestVersionForData(g,y);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(f){if(f<h)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+h+".\n")}else f=h;const d=function A(p,f,y){const l=new e;y.forEach(function(B){l.put(B.mode.bit,4),l.put(B.getLength(),E.getCharCountIndicator(B.mode,p)),B.write(l)});const d=8*(r.getSymbolTotalCodewords(p)-u.getTotalCodewordsCount(p,f));for(l.getLengthInBits()+4<=d&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(0);const C=(d-l.getLengthInBits())/8;for(let B=0;B<C;B++)l.put(B%2?17:236,8);return function P(p,f,y){const l=r.getSymbolTotalCodewords(f),h=l-u.getTotalCodewordsCount(f,y),d=u.getBlocksCount(f,y),B=d-l%d,D=Math.floor(l/d),v=Math.floor(h/d),z=v+1,G=D-v,x=new m(G);let k=0;const V=new Array(d),j=new Array(d);let O=0;const q=new Uint8Array(p.buffer);for(let Q=0;Q<d;Q++){const K=Q<B?v:z;V[Q]=q.slice(k,k+K),j[Q]=x.encode(V[Q]),k+=K,O=Math.max(O,K)}const Y=new Uint8Array(l);let J,H,Z=0;for(J=0;J<O;J++)for(H=0;H<d;H++)J<V[H].length&&(Y[Z++]=V[H][J]);for(J=0;J<G;J++)for(H=0;H<d;H++)Y[Z++]=j[H][J];return Y}(l,p,f)}(f,y,g),C=r.getSymbolSize(f),B=new n(C);return function I(p,f){const y=p.size,l=a.getPositions(f);for(let g=0;g<l.length;g++){const h=l[g][0],d=l[g][1];for(let C=-1;C<=7;C++)if(!(h+C<=-1||y<=h+C))for(let B=-1;B<=7;B++)d+B<=-1||y<=d+B||p.set(h+C,d+B,C>=0&&C<=6&&(0===B||6===B)||B>=0&&B<=6&&(0===C||6===C)||C>=2&&C<=4&&B>=2&&B<=4,!0)}}(B,f),function L(p){const f=p.size;for(let y=8;y<f-8;y++){const l=y%2==0;p.set(y,6,l,!0),p.set(6,y,l,!0)}}(B),function U(p,f){const y=t.getPositions(f);for(let l=0;l<y.length;l++){const g=y[l][0],h=y[l][1];for(let d=-2;d<=2;d++)for(let C=-2;C<=2;C++)p.set(g+d,h+C,-2===d||2===d||-2===C||2===C||0===d&&0===C,!0)}}(B,f),N(B,y,0),f>=7&&function S(p,f){const y=p.size,l=T.getEncodedBits(f);let g,h,d;for(let C=0;C<18;C++)g=Math.floor(C/3),h=C%3+y-8-3,d=1==(l>>C&1),p.set(g,h,d,!0),p.set(h,g,d,!0)}(B,f),function M(p,f){const y=p.size;let l=-1,g=y-1,h=7,d=0;for(let C=y-1;C>0;C-=2)for(6===C&&C--;;){for(let B=0;B<2;B++)if(!p.isReserved(g,C-B)){let D=!1;d<f.length&&(D=1==(f[d]>>>h&1)),p.set(g,C-B,D),h--,-1===h&&(d++,h=7)}if(g+=l,g<0||y<=g){g-=l,l=-l;break}}}(B,d),isNaN(l)&&(l=c.getBestMask(B,N.bind(null,B,y))),c.applyMask(l,B),N(B,y,l),{modules:B,version:f,errorCorrectionLevel:y,maskPattern:l,segments:g}}i.create=function(f,y){if(void 0===f||""===f)throw new Error("No input text");let g,h,l=o.M;return void 0!==y&&(l=o.from(y.errorCorrectionLevel,o.M),g=T.from(y.version),h=c.from(y.maskPattern),y.toSJISFunc&&r.setToSJISFunction(y.toSJISFunc)),F(f,g,l,h)}},8098:(b,i,s)=>{const r=s(7793);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(n.length+this.degree);t.set(n);const a=r.mod(t,this.genPoly),c=this.degree-a.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(a,c),u}return a},b.exports=o},4677:(b,i)=>{const s="[0-9]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";i.KANJI=new RegExp(o,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(e,"g"),i.NUMERIC=new RegExp(s,"g"),i.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+o+"$"),t=new RegExp("^"+s+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(u){return n.test(u)},i.testNumeric=function(u){return t.test(u)},i.testAlphanumeric=function(u){return a.test(u)}},9465:(b,i,s)=>{const r=s(6906),o=s(6002),e=s(812),n=s(1824),t=s(8043),a=s(4677),c=s(4860),u=s(4901);function m(S){return unescape(encodeURIComponent(S)).length}function T(S,N,M){const A=[];let P;for(;null!==(P=S.exec(M));)A.push({data:P[0],index:P.index,mode:N,length:P[0].length});return A}function R(S){const N=T(a.NUMERIC,r.NUMERIC,S),M=T(a.ALPHANUMERIC,r.ALPHANUMERIC,S);let A,P;return c.isKanjiModeEnabled()?(A=T(a.BYTE,r.BYTE,S),P=T(a.KANJI,r.KANJI,S)):(A=T(a.BYTE_KANJI,r.BYTE,S),P=[]),N.concat(M,A,P).sort(function(p,f){return p.index-f.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function E(S,N){switch(N){case r.NUMERIC:return o.getBitsLength(S);case r.ALPHANUMERIC:return e.getBitsLength(S);case r.KANJI:return t.getBitsLength(S);case r.BYTE:return n.getBitsLength(S)}}function U(S,N){let M;const A=r.getBestModeForData(S);if(M=r.from(N,A),M!==r.BYTE&&M.bit<A.bit)throw new Error('"'+S+'" cannot be encoded with mode '+r.toString(M)+".\n Suggested mode is: "+r.toString(A));switch(M===r.KANJI&&!c.isKanjiModeEnabled()&&(M=r.BYTE),M){case r.NUMERIC:return new o(S);case r.ALPHANUMERIC:return new e(S);case r.KANJI:return new t(S);case r.BYTE:return new n(S)}}i.fromArray=function(N){return N.reduce(function(M,A){return"string"==typeof A?M.push(U(A,null)):A.data&&M.push(U(A.data,A.mode)),M},[])},i.fromString=function(N,M){const P=function I(S){const N=[];for(let M=0;M<S.length;M++){const A=S[M];switch(A.mode){case r.NUMERIC:N.push([A,{data:A.data,mode:r.ALPHANUMERIC,length:A.length},{data:A.data,mode:r.BYTE,length:A.length}]);break;case r.ALPHANUMERIC:N.push([A,{data:A.data,mode:r.BYTE,length:A.length}]);break;case r.KANJI:N.push([A,{data:A.data,mode:r.BYTE,length:m(A.data)}]);break;case r.BYTE:N.push([{data:A.data,mode:r.BYTE,length:m(A.data)}])}}return N}(R(N,c.isKanjiModeEnabled())),F=function L(S,N){const M={},A={start:{}};let P=["start"];for(let F=0;F<S.length;F++){const p=S[F],f=[];for(let y=0;y<p.length;y++){const l=p[y],g=""+F+y;f.push(g),M[g]={node:l,lastCount:0},A[g]={};for(let h=0;h<P.length;h++){const d=P[h];M[d]&&M[d].node.mode===l.mode?(A[d][g]=E(M[d].lastCount+l.length,l.mode)-E(M[d].lastCount,l.mode),M[d].lastCount+=l.length):(M[d]&&(M[d].lastCount=l.length),A[d][g]=E(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,N))}}P=f}for(let F=0;F<P.length;F++)A[P[F]].end=0;return{map:A,table:M}}(P,M),p=u.find_path(F.map,"start","end"),f=[];for(let y=1;y<p.length-1;y++)f.push(F.table[p[y]].node);return i.fromArray(function w(S){return S.reduce(function(N,M){const A=N.length-1>=0?N[N.length-1]:null;return A&&A.mode===M.mode?(N[N.length-1].data+=M.data,N):(N.push(M),N)},[])}(f))},i.rawSplit=function(N){return i.fromArray(R(N,c.isKanjiModeEnabled()))}},4860:(b,i)=>{let s;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},i.getSymbolTotalCodewords=function(e){return r[e]},i.getBCHDigit=function(o){let e=0;for(;0!==o;)e++,o>>>=1;return e},i.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');s=e},i.isKanjiModeEnabled=function(){return void 0!==s},i.toSJIS=function(e){return s(e)}},2316:(b,i)=>{i.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},6602:(b,i,s)=>{const r=s(4860),o=s(6194),e=s(9020),n=s(6906),t=s(2316),c=r.getBCHDigit(7973);function m(E,w){return n.getCharCountIndicator(E,w)+4}function T(E,w){let I=0;return E.forEach(function(L){I+=m(L.mode,w)+L.getBitsLength()}),I}i.from=function(w,I){return t.isValid(w)?parseInt(w,10):I},i.getCapacity=function(w,I,L){if(!t.isValid(w))throw new Error("Invalid QR Code version");void 0===L&&(L=n.BYTE);const N=8*(r.getSymbolTotalCodewords(w)-o.getTotalCodewordsCount(w,I));if(L===n.MIXED)return N;const M=N-m(L,w);switch(L){case n.NUMERIC:return Math.floor(M/10*3);case n.ALPHANUMERIC:return Math.floor(M/11*2);case n.KANJI:return Math.floor(M/13);default:return Math.floor(M/8)}},i.getBestVersionForData=function(w,I){let L;const U=e.from(I,e.M);if(Array.isArray(w)){if(w.length>1)return function R(E,w){for(let I=1;I<=40;I++)if(T(E,I)<=i.getCapacity(I,w,n.MIXED))return I}(w,U);if(0===w.length)return 1;L=w[0]}else L=w;return function u(E,w,I){for(let L=1;L<=40;L++)if(w<=i.getCapacity(L,I,E))return L}(L.mode,L.getLength(),U)},i.getEncodedBits=function(w){if(!t.isValid(w)||w<7)throw new Error("Invalid QR Code version");let I=w<<12;for(;r.getBCHDigit(I)-c>=0;)I^=7973<<r.getBCHDigit(I)-c;return w<<12|I}},179:(b,i,s)=>{const r=s(714);i.render=function(t,a,c){let u=c,m=a;void 0===u&&(!a||!a.getContext)&&(u=a,a=void 0),a||(m=function e(){try{return document.createElement("canvas")}catch(n){throw new Error("You need to specify a canvas element")}}()),u=r.getOptions(u);const T=r.getImageWidth(t.modules.size,u),R=m.getContext("2d"),E=R.createImageData(T,T);return r.qrToImageData(E.data,t,u),function o(n,t,a){n.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=a,t.width=a,t.style.height=a+"px",t.style.width=a+"px"}(R,m,T),R.putImageData(E,0,0),m},i.renderToDataURL=function(t,a,c){let u=c;return void 0===u&&(!a||!a.getContext)&&(u=a,a=void 0),u||(u={}),i.render(t,a,u).toDataURL(u.type||"image/png",(u.rendererOpts||{}).quality)}},1036:(b,i,s)=>{const r=s(714);function o(t,a){const c=t.a/255,u=a+'="'+t.hex+'"';return c<1?u+" "+a+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function e(t,a,c){let u=t+a;return void 0!==c&&(u+=" "+c),u}i.render=function(a,c,u){const m=r.getOptions(c),T=a.modules.size,R=a.modules.data,E=T+2*m.margin,w=m.color.light.a?"<path "+o(m.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",I="<path "+o(m.color.dark,"stroke")+' d="'+function n(t,a,c){let u="",m=0,T=!1,R=0;for(let E=0;E<t.length;E++){const w=Math.floor(E%a),I=Math.floor(E/a);!w&&!T&&(T=!0),t[E]?(R++,E>0&&w>0&&t[E-1]||(u+=T?e("M",w+c,.5+I+c):e("m",m,0),m=0,T=!1),w+1<a&&t[E+1]||(u+=e("h",R),R=0)):m++}return u}(R,T,m.margin)+'"/>',S='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+'viewBox="0 0 '+E+" "+E+'" shape-rendering="crispEdges">'+w+I+"</svg>\n";return"function"==typeof u&&u(null,S),S}},714:(b,i)=>{function s(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||5===o.length||o.length>8)throw new Error("Invalid hex color: "+r);(3===o.length||4===o.length)&&(o=Array.prototype.concat.apply([],o.map(function(n){return[n,n]}))),6===o.length&&o.push("F","F");const e=parseInt(o.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+o.slice(0,6).join("")}}i.getOptions=function(o){o||(o={}),o.color||(o.color={});const n=o.width&&o.width>=21?o.width:void 0;return{width:n,scale:n?4:o.scale||4,margin:null==o.margin||o.margin<0?4:o.margin,color:{dark:s(o.color.dark||"#000000ff"),light:s(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},i.getScale=function(o,e){return e.width&&e.width>=o+2*e.margin?e.width/(o+2*e.margin):e.scale},i.getImageWidth=function(o,e){const n=i.getScale(o,e);return Math.floor((o+2*e.margin)*n)},i.qrToImageData=function(o,e,n){const t=e.modules.size,a=e.modules.data,c=i.getScale(t,n),u=Math.floor((t+2*n.margin)*c),m=n.margin*c,T=[n.color.light,n.color.dark];for(let R=0;R<u;R++)for(let E=0;E<u;E++){let w=4*(R*u+E),I=n.color.light;R>=m&&E>=m&&R<u-m&&E<u-m&&(I=T[a[Math.floor((R-m)/c)*t+Math.floor((E-m)/c)]?1:0]),o[w++]=I.r,o[w++]=I.g,o[w++]=I.b,o[w]=I.a}}},9593:(b,i,s)=>{"use strict";s.r(i),s.d(i,{StoryPageModule:()=>p});var r=s(9808),o=s(4182),e=s(7590),n=s(5010),t=s(2096),a=s(4974),c=s(8328),u=s(7788),m=s(4435),T=s(4725),R=s(9258),E=s(655),w=s(5876),I=s(2313);const L=["qrcElement"];let U=(()=>{class f{constructor(l,g){this.renderer=l,this.sanitizer=g,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.vpe,this.context=null}ngOnChanges(){return(0,E.mG)(this,void 0,void 0,function*(){yield this.createQRCode()})}isValidQrCodeText(l){return!1===this.allowEmptyString?!(void 0===l||""===l||"null"===l||null===l):void 0!==l}toDataURL(l){return new Promise((g,h)=>{w.hz(this.qrdata,l,(d,C)=>{d?h(d):g(C)})})}toCanvas(l,g){return new Promise((h,d)=>{w.rT(l,this.qrdata,g,C=>{C?d(C):h("success")})})}toSVG(l){return new Promise((g,h)=>{w.toString(this.qrdata,l,(d,C)=>{d?h(d):g(C)})})}renderElement(l){for(const g of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,g);this.renderer.appendChild(this.qrcElement.nativeElement,l)}createQRCode(){return(0,E.mG)(this,void 0,void 0,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&""===this.qrdata&&(this.qrdata=" ");const l={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:this.elementType,version:this.version,width:this.width},g=this.imageSrc,h=this.imageHeight||40,d=this.imageWidth||40;switch(this.elementType){case"canvas":const C=this.renderer.createElement("canvas");this.context=C.getContext("2d"),this.toCanvas(C,l).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(C,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(C,"title",`${this.title}`),g&&this.context){this.centerImage=new Image(d,h),g!==this.centerImage.src&&(this.centerImage.src=g),h!==this.centerImage.height&&(this.centerImage.height=h),d!==this.centerImage.width&&(this.centerImage.width=d);const v=this.centerImage;v&&(v.onload=()=>{var z;null===(z=this.context)||void 0===z||z.drawImage(v,C.width/2-d/2,C.height/2-h/2,d,h)})}this.renderElement(C),this.emitQRCodeURL(C)}).catch(v=>{console.error("[angularx-qrcode] canvas error:",v)});break;case"svg":const B=this.renderer.createElement("div");this.toSVG(l).then(v=>{this.renderer.setProperty(B,"innerHTML",v);const z=B.firstChild;this.renderer.setAttribute(z,"height",`${this.width}`),this.renderer.setAttribute(z,"width",`${this.width}`),this.renderElement(z),this.emitQRCodeURL(z)}).catch(v=>{console.error("[angularx-qrcode] svg error:",v)});break;default:const D=this.renderer.createElement("img");this.toDataURL(l).then(v=>{this.alt&&D.setAttribute("alt",this.alt),this.ariaLabel&&D.setAttribute("aria-label",this.ariaLabel),D.setAttribute("src",v),this.title&&D.setAttribute("title",this.title),this.renderElement(D),this.emitQRCodeURL(D)}).catch(v=>{console.error("[angularx-qrcode] img/url error:",v)})}}catch(l){console.error("[angularx-qrcode] Error generating QR Code:",l.message)}})}emitQRCodeURL(l){const g=l.constructor.name;if(g===SVGSVGElement.name){const C=new Blob([l.outerHTML],{type:"image/svg+xml"}),B=URL.createObjectURL(C),D=this.sanitizer.bypassSecurityTrustUrl(B);return void this.qrCodeURL.emit(D)}let h="";g===HTMLCanvasElement.name&&(h=l.toDataURL("image/png")),g===HTMLImageElement.name&&(h=l.src),fetch(h).then(d=>d.blob()).then(d=>URL.createObjectURL(d)).then(d=>this.sanitizer.bypassSecurityTrustUrl(d)).then(d=>{this.qrCodeURL.emit(d)}).catch(d=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+d)})}}return f.\u0275fac=function(l){return new(l||f)(t.Y36(t.Qsj),t.Y36(I.H7))},f.\u0275cmp=t.Xpm({type:f,selectors:[["qrcode"]],viewQuery:function(l,g){if(1&l&&t.Gf(L,7),2&l){let h;t.iGM(h=t.CRH())&&(g.qrcElement=h.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(l,g){1&l&&t._UZ(0,"div",null,0),2&l&&t.Tol(g.cssClass)},encapsulation:2,changeDetection:0}),f})(),S=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({providers:[]}),f})();function N(f,y){if(1&f&&(t.TgZ(0,"ion-item"),t._UZ(1,"qrcode",5),t.qZA()),2&f){const l=t.oxw();t.xp6(1),t.Q6J("qrdata",l.qrData)("width",512)("errorCorrectionLevel","H")}}function M(f,y){if(1&f){const l=t.EpF();t.TgZ(0,"ion-button",2),t.NdJ("click",function(){t.CHM(l);const h=t.oxw();return t.KtG(h.copy())}),t._uU(1," copy "),t.qZA()}}const P=[{path:"",component:(()=>{class f{constructor(l,g,h,d,C,B){this.gameService=l,this.utils=g,this.info=h,this.activatedRoute=d,this.router=C,this.gameBuilderService=B,this.storyText=""}ngOnInit(){this.gameBuilderService.storyJson?(this.storyText=JSON.stringify(JSON.parse(this.gameBuilderService.storyJson),null,2),this.generate()):this.storyText=JSON.stringify(m.H,null,2)}getMin(){let l=JSON.stringify(JSON.parse(this.storyText));return l=this.utils.compress(l),l=(0,a.v8)(l),l}validate(l){return l=(0,a.V1)(l),l=this.utils.uncompress(l),JSON.parse(l)}generate(){try{this.qrData=null,this.storyMin=this.getMin(),this.validate(this.storyMin),this.qrData=((0,t.X6Q)()?"https://localhost:8100":"https://msarica.github.io/scv")+"/#/tabs/start?story="+this.storyMin}catch(l){this.info.alert(l.message)}}copy(){navigator.clipboard.writeText(this.qrData),console.log(this.storyMin.length),this.info.alert("copied")}}return f.\u0275fac=function(l){return new(l||f)(t.Y36(c.h),t.Y36(u.F),t.Y36(T.C),t.Y36(n.gz),t.Y36(n.F0),t.Y36(R.y))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-story"]],decls:16,vars:5,consts:[[1,"ion-text-center"],["placeholder","",3,"autoGrow","ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(l,g){1&l&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Create your story"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"ion-item")(6,"ion-textarea",1),t.NdJ("ngModelChange",function(d){return g.storyText=d}),t.qZA()(),t.TgZ(7,"ion-button",2),t.NdJ("click",function(){return g.generate()}),t._uU(8," Generate "),t.qZA(),t.YNc(9,N,2,3,"ion-item",3),t.TgZ(10,"code"),t._uU(11),t.qZA(),t._UZ(12,"br"),t.YNc(13,M,2,0,"ion-button",4),t._UZ(14,"br")(15,"br"),t.qZA()),2&l&&(t.xp6(6),t.Q6J("autoGrow",!0)("ngModel",g.storyText),t.xp6(3),t.Q6J("ngIf",g.qrData),t.xp6(2),t.hij(" ",g.qrData," "),t.xp6(2),t.Q6J("ngIf",g.qrData))},dependencies:[r.O5,o.JJ,o.On,e.YG,e.W2,e.Gu,e.Ie,e.g2,e.wd,e.sr,e.j9,U],encapsulation:2}),f})()}];let F=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[n.Bz.forChild(P),n.Bz]}),f})(),p=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[r.ez,o.u5,e.Pc,F,S]}),f})()},4901:b=>{"use strict";var i={single_source_shortest_paths:function(s,r,o){var e={},n={};n[r]=0;var a,c,u,m,T,E,t=i.PriorityQueue.make();for(t.push(r,0);!t.empty();)for(u in m=(a=t.pop()).cost,T=s[c=a.value]||{})T.hasOwnProperty(u)&&(E=m+T[u],(void 0===n[u]||n[u]>E)&&(n[u]=E,t.push(u,E),e[u]=c));if(void 0!==o&&void 0===n[o]){var L=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(L)}return e},extract_shortest_path_from_predecessor_list:function(s,r){for(var o=[],e=r;e;)o.push(e),e=s[e];return o.reverse(),o},find_path:function(s,r,o){var e=i.single_source_shortest_paths(s,r,o);return i.extract_shortest_path_from_predecessor_list(e,o)},PriorityQueue:{make:function(s){var e,r=i.PriorityQueue,o={};for(e in s=s||{},r)r.hasOwnProperty(e)&&(o[e]=r[e]);return o.queue=[],o.sorter=s.sorter||r.default_sorter,o},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){this.queue.push({value:s,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};b.exports=i},8419:b=>{"use strict";b.exports=function(s){for(var r=[],o=s.length,e=0;e<o;e++){var n=s.charCodeAt(e);if(n>=55296&&n<=56319&&o>e+1){var t=s.charCodeAt(e+1);t>=56320&&t<=57343&&(n=1024*(n-55296)+t-56320+65536,e+=1)}n<128?r.push(n):n<2048?(r.push(n>>6|192),r.push(63&n|128)):n<55296||n>=57344&&n<65536?(r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=65536&&n<=1114111?(r.push(n>>18|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}}}]);