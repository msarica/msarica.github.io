(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7164],{7164:(Y,E,v)=>{"use strict";v.r(E),v.d(E,{StoryBuilderPageModule:()=>G});var M=v(9808),g=v(4182),_=v(7590),S=v(5470),b=v(655);v(3037);const k="propertyInfo";function O(i,d,a,c){let y=Reflect.getMetadata(k,i)||{};y[d]=Object.assign(Object.assign({},y[d]),{[a]:c}),Reflect.defineMetadata(k,y,i)}function F(i,d){O(i,d,"editable",!0)}class N extends class L{_getControlData(){const d=this;let a=Reflect.getMetadata(k,d)||{};const c=[];for(let y of Object.keys(a)){const T=a[y]||{},m=T.dataType||Reflect.getMetadata("design:type",d,y)||y,K=T.displayName||(i=y).charAt(0).toUpperCase()+i.slice(1);let B=m;m===String||m===Date?B="text":m===Number?B="number":m===Boolean&&(B="checkbox"),c.push({label:K,name:y,type:B,required:!0,value:"",validators:{pattern:T.validateFor||void 0}})}var i;return{controls:c}}getControlData(){return this._controlData||(this._controlData=this._getControlData()),this._controlData}generateForm(d,a){const c=this.getControlData();for(let y of c.controls){const T=[];y.required&&T.push(g.kI.required),y.validators.pattern&&T.push(g.kI.pattern(y.validators.pattern)),d.addControl(y.name,a.control(y.value,T))}}}{}(0,b.gn)([F,(0,b.w6)("design:type",String)],N.prototype,"name",void 0),(0,b.gn)([F,(0,b.w6)("design:type",String)],N.prototype,"description",void 0),(0,b.gn)([F,function Z(i){return function(d,a){O(d,a,"dataType",i)}}("text"),function q(i){return function(d,a){O(d,a,"validateFor",i)}}(/\d+/),(0,b.w6)("design:type",Array)],N.prototype,"location",void 0);var r=v(2096);function W(i,d){if(1&i&&(r.TgZ(0,"ion-label"),r._uU(1),r.qZA()),2&i){const a=r.oxw().$implicit;r.xp6(1),r.Oqu(a.label)}}function $(i,d){if(1&i&&r._UZ(0,"ion-input",10),2&i){const a=r.oxw().$implicit;r.Q6J("type",a.type)("formControlName",a.name)("value",a.value)}}function z(i,d){if(1&i&&r._UZ(0,"ion-textarea",11),2&i){const a=r.oxw().$implicit;r.Q6J("formControlName",a.name)("value",a.value)}}function H(i,d){if(1&i&&r._UZ(0,"ion-checkbox",12),2&i){const a=r.oxw().$implicit;r.Q6J("formControlName",a.name)("checked",a.value)}}function V(i,d){if(1&i&&r._UZ(0,"ion-toggle",12),2&i){const a=r.oxw().$implicit;r.Q6J("formControlName",a.name)("checked",a.value)}}function X(i,d){if(1&i&&(r.TgZ(0,"ion-range",13),r._UZ(1,"ion-icon",14)(2,"ion-icon",15),r.qZA()),2&i){const a=r.oxw().$implicit;r.Q6J("min",a.options.min)("max",a.options.max)("formControlName",a.name),r.xp6(1),r.Q6J("name",a.options.icon),r.xp6(1),r.Q6J("name",a.options.icon)}}const A=function(){return["text","password","email","number","search","tel","url"]};function J(i,d){if(1&i&&(r.TgZ(0,"ion-item"),r.YNc(1,W,2,1,"ion-label",5),r.YNc(2,$,1,3,"ion-input",6),r.YNc(3,z,1,2,"ion-textarea",7),r.YNc(4,H,1,2,"ion-checkbox",8),r.YNc(5,V,1,2,"ion-toggle",8),r.YNc(6,X,3,5,"ion-range",9),r.qZA()),2&i){const a=d.$implicit;r.xp6(1),r.Q6J("ngIf",""!==a.label),r.xp6(1),r.Q6J("ngIf",r.DdM(6,A).includes(a.type)),r.xp6(1),r.Q6J("ngIf","textarea"===a.type),r.xp6(1),r.Q6J("ngIf","checkbox"===a.type),r.xp6(1),r.Q6J("ngIf","toggle"===a.type),r.xp6(1),r.Q6J("ngIf","range"===a.type)}}const Q=[{path:"",component:(()=>{class i{constructor(a,c){this.fb=a,this.viewContainerRef=c,this.points=[],this.gameForm=new N,this.myForm=this.fb.group({})}ngOnInit(){this.gameForm.generateForm(this.myForm,this.fb),this.jsonFormData=this.gameForm.getControlData()}addPoint(a){this.points.push({})}onSubmit(){console.log(this.myForm.valid),console.log(this.myForm.value)}get controls(){return Object.keys(this.myForm.controls)}}return i.\u0275fac=function(a){return new(a||i)(r.Y36(g.qu),r.Y36(r.s_b))},i.\u0275cmp=r.Xpm({type:i,selectors:[["app-story-builder"]],decls:22,vars:2,consts:[[3,"formGroup","ngSubmit"],["formObj",""],[4,"ngFor","ngForOf"],[3,"click"],["button","","type","submit",1,"btn","btn-danger",3,"click"],[4,"ngIf"],[3,"type","formControlName","value",4,"ngIf"],[3,"formControlName","value",4,"ngIf"],[3,"formControlName","checked",4,"ngIf"],[3,"min","max","formControlName",4,"ngIf"],[3,"type","formControlName","value"],[3,"formControlName","value"],[3,"formControlName","checked"],[3,"min","max","formControlName"],["size","small","slot","start",3,"name"],["slot","end",3,"name"]],template:function(a,c){1&a&&(r.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r._uU(3,"story-builder"),r.qZA()()(),r.TgZ(4,"ion-content")(5,"form",0,1),r.NdJ("ngSubmit",function(){return c.onSubmit()}),r.TgZ(7,"ion-item-divider")(8,"ion-label"),r._uU(9," Game "),r.qZA()(),r.YNc(10,J,7,7,"ion-item",2),r.TgZ(11,"ion-item-divider")(12,"ion-label"),r._uU(13," Points "),r.qZA(),r.TgZ(14,"ion-button",3),r.NdJ("click",function(){return c.addPoint("note")}),r._uU(15," Note "),r.qZA(),r.TgZ(16,"ion-button",3),r.NdJ("click",function(){return c.addPoint("shortanswer")}),r._uU(17," Short Answer "),r.qZA(),r.TgZ(18,"ion-button",3),r.NdJ("click",function(){return c.addPoint("multiplechoice")}),r._uU(19," Multiple Choice "),r.qZA()()(),r.TgZ(20,"ion-item",4),r.NdJ("click",function(){return c.onSubmit()}),r._uU(21,"Submit"),r.qZA()()),2&a&&(r.xp6(5),r.Q6J("formGroup",c.myForm),r.xp6(5),r.Q6J("ngForOf",null==c.jsonFormData?null:c.jsonFormData.controls))},dependencies:[M.sg,M.O5,g._Y,g.JJ,g.JL,_.YG,_.nz,_.W2,_.Gu,_.gu,_.pK,_.Ie,_.rH,_.Q$,_.I_,_.g2,_.wd,_.ho,_.sr,_.w,_.QI,_.j9,g.sg,g.u],encapsulation:2}),i})()}];let R=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=r.oAB({type:i}),i.\u0275inj=r.cJS({imports:[S.Bz.forChild(Q),S.Bz]}),i})(),G=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=r.oAB({type:i}),i.\u0275inj=r.cJS({imports:[M.ez,g.u5,_.Pc,R,g.UX]}),i})()},3037:()=>{var Y,E;E=Y||(Y={}),function(v){var M="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),g=_(E);function _(S,b){return function(I,C){"function"!=typeof S[I]&&Object.defineProperty(S,I,{configurable:!0,writable:!0,value:C}),b&&b(I,C)}}void 0===M.Reflect?M.Reflect=E:g=_(M.Reflect,g),function(v){var M=Object.prototype.hasOwnProperty,g="function"==typeof Symbol,_=g&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",S=g&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",b="function"==typeof Object.create,I={__proto__:[]}instanceof Array,C=!b&&!I,k={create:b?function(){return et(Object.create(null))}:I?function(){return et({__proto__:null})}:function(){return et({})},has:C?function(t,e){return M.call(t,e)}:function(t,e){return e in t},get:C?function(t,e){return M.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},O=Object.getPrototypeOf(Function),F="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,Z=F||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function _t(){var t={},e=[],n=function(){function s(l,f,h){this._index=0,this._keys=l,this._values=f,this._selector=h}return s.prototype["@@iterator"]=function(){return this},s.prototype[S]=function(){return this},s.prototype.next=function(){var l=this._index;if(l>=0&&l<this._keys.length){var f=this._selector(this._keys[l],this._values[l]);return l+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:f,done:!1}}return{value:void 0,done:!0}},s.prototype.throw=function(l){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),l},s.prototype.return=function(l){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:l,done:!0}},s}();return function(){function s(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(s.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),s.prototype.has=function(l){return this._find(l,!1)>=0},s.prototype.get=function(l){var f=this._find(l,!1);return f>=0?this._values[f]:void 0},s.prototype.set=function(l,f){var h=this._find(l,!0);return this._values[h]=f,this},s.prototype.delete=function(l){var f=this._find(l,!1);if(f>=0){for(var h=this._keys.length,p=f+1;p<h;p++)this._keys[p-1]=this._keys[p],this._values[p-1]=this._values[p];return this._keys.length--,this._values.length--,l===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},s.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},s.prototype.keys=function(){return new n(this._keys,this._values,o)},s.prototype.values=function(){return new n(this._keys,this._values,u)},s.prototype.entries=function(){return new n(this._keys,this._values,w)},s.prototype["@@iterator"]=function(){return this.entries()},s.prototype[S]=function(){return this.entries()},s.prototype._find=function(l,f){return this._cacheKey!==l&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=l)),this._cacheIndex<0&&f&&(this._cacheIndex=this._keys.length,this._keys.push(l),this._values.push(void 0)),this._cacheIndex},s}();function o(s,l){return s}function u(s,l){return l}function w(s,l){return[s,l]}}():Map,nt=F||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function vt(){return function(){function t(){this._map=new Z}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return this._map.set(e,e),this},t.prototype.delete=function(e){return this._map.delete(e)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[S]=function(){return this.keys()},t}()}():Set,U=new(F||"function"!=typeof WeakMap?function gt(){var e=k.create(),n=o();return function(){function f(){this._key=o()}return f.prototype.has=function(h){var p=u(h,!1);return void 0!==p&&k.has(p,this._key)},f.prototype.get=function(h){var p=u(h,!1);return void 0!==p?k.get(p,this._key):void 0},f.prototype.set=function(h,p){return u(h,!0)[this._key]=p,this},f.prototype.delete=function(h){var p=u(h,!1);return void 0!==p&&delete p[this._key]},f.prototype.clear=function(){this._key=o()},f}();function o(){var f;do{f="@@WeakMap@@"+l()}while(k.has(e,f));return e[f]=!0,f}function u(f,h){if(!M.call(f,n)){if(!h)return;Object.defineProperty(f,n,{value:k.create()})}return f[n]}function w(f,h){for(var p=0;p<h;++p)f[p]=255*Math.random()|0;return f}function l(){var f=function s(f){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(f)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(f)):w(new Uint8Array(f),f):w(new Array(f),f)}(16);f[6]=79&f[6]|64,f[8]=191&f[8]|128;for(var h="",p=0;p<16;++p){var x=f[p];(4===p||6===p||8===p)&&(h+="-"),x<16&&(h+="0"),h+=x.toString(16).toLowerCase()}return h}}():WeakMap);function A(t,e,n){var o=U.get(t);if(c(o)){if(!n)return;o=new Z,U.set(t,o)}var u=o.get(e);if(c(u)){if(!n)return;u=new Z,o.set(e,u)}return u}function J(t,e,n){if(D(t,e,n))return!0;var u=tt(e);return!y(u)&&J(t,u,n)}function D(t,e,n){var o=A(e,n,!1);return!c(o)&&function lt(t){return!!t}(o.has(t))}function Q(t,e,n){if(D(t,e,n))return R(t,e,n);var u=tt(e);return y(u)?void 0:Q(t,u,n)}function R(t,e,n){var o=A(e,n,!1);if(!c(o))return o.get(t)}function G(t,e,n,o){A(n,o,!0).set(t,e)}function i(t,e){var n=d(t,e),o=tt(t);if(null===o)return n;var u=i(o,e);if(u.length<=0)return n;if(n.length<=0)return u;for(var w=new nt,s=[],l=0,f=n;l<f.length;l++)w.has(h=f[l])||(w.add(h),s.push(h));for(var x=0,st=u;x<st.length;x++){var h;w.has(h=st[x])||(w.add(h),s.push(h))}return s}function d(t,e){var n=[],o=A(t,e,!1);if(c(o))return n;for(var w=function ht(t){var e=ft(t,S);if(!j(e))throw new TypeError;var n=e.call(t);if(!m(n))throw new TypeError;return n}(o.keys()),s=0;;){var l=yt(w);if(!l)return n.length=s,n;var f=pt(l);try{n[s]=f}catch(h){try{mt(w)}finally{throw h}}s++}}function a(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function c(t){return void 0===t}function y(t){return null===t}function m(t){return"object"==typeof t?null!==t:"function"==typeof t}function K(t,e){switch(a(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",o=ft(t,_);if(void 0!==o){var u=o.call(t,n);if(m(u))throw new TypeError;return u}return function B(t,e){if("string"===e){var n=t.toString;if(j(n)&&!m(o=n.call(t)))return o;if(j(u=t.valueOf)&&!m(o=u.call(t)))return o}else{var u;if(j(u=t.valueOf)&&!m(o=u.call(t)))return o;var o,w=t.toString;if(j(w)&&!m(o=w.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function P(t){var e=K(t,3);return function T(t){return"symbol"==typeof t}(e)?e:function ct(t){return""+t}(e)}function at(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function j(t){return"function"==typeof t}function ut(t){return"function"==typeof t}function ft(t,e){var n=t[e];if(null!=n){if(!j(n))throw new TypeError;return n}}function pt(t){return t.value}function yt(t){var e=t.next();return!e.done&&e}function mt(t){var e=t.return;e&&e.call(t)}function tt(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===O||e!==O)return e;var n=t.prototype,o=n&&Object.getPrototypeOf(n);if(null==o||o===Object.prototype)return e;var u=o.constructor;return"function"!=typeof u||u===t?e:u}function et(t){return t.__=void 0,delete t.__,t}v("decorate",function L(t,e,n,o){if(c(n)){if(!at(t))throw new TypeError;if(!ut(e))throw new TypeError;return function V(t,e){for(var n=t.length-1;n>=0;--n){var u=(0,t[n])(e);if(!c(u)&&!y(u)){if(!ut(u))throw new TypeError;e=u}}return e}(t,e)}if(!at(t))throw new TypeError;if(!m(e))throw new TypeError;if(!m(o)&&!c(o)&&!y(o))throw new TypeError;return y(o)&&(o=void 0),function X(t,e,n,o){for(var u=t.length-1;u>=0;--u){var s=(0,t[u])(e,n,o);if(!c(s)&&!y(s)){if(!m(s))throw new TypeError;o=s}}return o}(t,e,n=P(n),o)}),v("metadata",function N(t,e){return function n(o,u){if(!m(o))throw new TypeError;if(!c(u)&&!function dt(t){switch(a(t)){case 3:case 4:return!0;default:return!1}}(u))throw new TypeError;G(t,e,o,u)}}),v("defineMetadata",function rt(t,e,n,o){if(!m(n))throw new TypeError;return c(o)||(o=P(o)),G(t,e,n,o)}),v("hasMetadata",function ot(t,e,n){if(!m(e))throw new TypeError;return c(n)||(n=P(n)),J(t,e,n)}),v("hasOwnMetadata",function it(t,e,n){if(!m(e))throw new TypeError;return c(n)||(n=P(n)),D(t,e,n)}),v("getMetadata",function r(t,e,n){if(!m(e))throw new TypeError;return c(n)||(n=P(n)),Q(t,e,n)}),v("getOwnMetadata",function W(t,e,n){if(!m(e))throw new TypeError;return c(n)||(n=P(n)),R(t,e,n)}),v("getMetadataKeys",function $(t,e){if(!m(t))throw new TypeError;return c(e)||(e=P(e)),i(t,e)}),v("getOwnMetadataKeys",function z(t,e){if(!m(t))throw new TypeError;return c(e)||(e=P(e)),d(t,e)}),v("deleteMetadata",function H(t,e,n){if(!m(e))throw new TypeError;c(n)||(n=P(n));var o=A(e,n,!1);if(c(o)||!o.delete(t))return!1;if(o.size>0)return!0;var u=U.get(e);return u.delete(n),u.size>0||U.delete(e),!0})}(g)}()}}]);