"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4319],{4319:(U,p,n)=>{n.r(p),n.d(p,{StoryBuilderPageModule:()=>O});var g=n(9808),l=n(4182),c=n(7590),d=n(1393),t=n(2096),y=n(5485),h=n(2811),v=n(4848),S=n(759),P=n(5672),u=n(4974);const B=["mapElementRef"];let m=(()=>{class e{constructor(){this.startPoint=[0,0],this.coordinateClick=new t.vpe}ngOnInit(){this.setUpMap()}setUpMap(){const[o,r]=this.startPoint,s=(0,u.xA)([r,o]);this.map=new y.Z({view:new h.ZP({center:s,zoom:18}),layers:[new v.Z({source:new P.Z})],target:"ol-map"});const A=new S.Z({});this.map.addLayer(A),this.map.on("click",f=>{const F=this.map.getCoordinateFromPixel(f.pixel),C=(0,u.FY)(F);this.coordinateClick.emit({coordinate:[C[1],C[0]],event:f})}),setTimeout(()=>{this.map.setTarget(this.mapElementRef.nativeElement)})}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-coordinate-selection"]],viewQuery:function(o,r){if(1&o&&t.Gf(B,7),2&o){let a;t.iGM(a=t.CRH())&&(r.mapElementRef=a.first)}},inputs:{startPoint:"startPoint"},outputs:{coordinateClick:"coordinateClick"},decls:3,vars:0,consts:[["id","ol-map",1,"map-container"],["mapElementRef",""]],template:function(o,r){1&o&&(t.ynx(0),t._UZ(1,"div",0,1),t.BQk())},styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column;height:100vh}.map-container[_ngcontent-%COMP%]{flex-grow:1}"]}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}onCoordinateClick(o){console.log(o.coordinate),this.coordinate=o.coordinate}copy(){navigator.clipboard.writeText(JSON.stringify(this.coordinate))}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-coordinate-select-wrapper"]],decls:3,vars:1,consts:[[3,"click"],[3,"coordinateClick"]],template:function(o,r){1&o&&(t.TgZ(0,"ion-button",0),t.NdJ("click",function(){return r.copy()}),t._uU(1),t.qZA(),t.TgZ(2,"app-coordinate-selection",1),t.NdJ("coordinateClick",function(s){return r.onCoordinateClick(s)}),t.qZA()),2&o&&(t.xp6(1),t.hij(" Copy [",r.coordinate,"]\n"))},dependencies:[c.YG,m]}),e})();var Z=n(655);class T{constructor(i){this.info=i}getGameDetails(){return{}}validate(){}generate(){return(0,Z.mG)(this,void 0,void 0,function*(){return null})}}var x=n(4725);const w=[{path:"",component:(()=>{class e{constructor(o,r,a){this.fb=o,this.viewContainerRef=r,this.info=a,this.game=new T(this.info)}ngOnInit(){}onSubmit(){}addPoint(o){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(t.s_b),t.Y36(x.C))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-story-builder"]],decls:8,vars:0,consts:[["json",""]],template:function(o,r){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"story-builder"),t.qZA()()(),t.TgZ(4,"ion-content"),t._UZ(5,"div",null,0)(7,"app-coordinate-selection"),t.qZA())},dependencies:[c.W2,c.Gu,c.wd,c.sr,m],styles:[".pointsDiv[_ngcontent-%COMP%]{padding-left:10px}"]}),e})()},{path:"map",component:M}];let R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(w),d.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,l.u5,c.Pc,R,l.UX]}),e})()}}]);